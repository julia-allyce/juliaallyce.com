<!DOCTYPE html>
<html>
<head>
  <title>JULIA ALLYCE - FRONT END DEVELOPER</title>
  <link href="./style.css" rel="stylesheet" type="text/css">
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%"></svg>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript">
  var svg = d3.select("svg")

  var rect = svg.append("rect")
  .attr({
    width:'100%',
    height: '100%'
  });

  svg.append("text").attr("font-family", "sans-serif")
     .attr("font-size", '100')
    .attr('y', 100)
      .attr('x', '50') 
    .attr('fill','transparent')
     .attr("stroke", "white").text("Julia Allyce");

  svg.append("text").attr("font-family", "sans-serif")
     .attr("font-size", "1.2em")
    .attr('y', 135)
      .attr('x', '50') 
    .attr('fill','transparent')
     .attr("stroke", "white").text("Front End Developer");

  var gradient = svg.append("defs")
    .append("linearGradient")
      .attr("id", "gradient")
      .attr("x1", "0%")
      .attr("y1", "0%")
      .attr("x2", "100%")
      .attr("y2", "100%")
      .attr("spreadMethod", "pad");

  var stops = gradient.selectAll("stop")
        .data([
          {offset: "0%", color: 0},
          {offset: "40%", color: 20},
          {offset: "60%", color: 20},
          {offset: "100%", color: 40}
        ])
      
  stops.enter().append("stop")
        .attr("offset", function(d) { return d.offset; })
        .attr("stop-color", function(d) { return d3.hsl(d.color,0.8,0.6).toString(); });

  rect.style("fill", "url(#gradient)");

  var handler = debounce(function(){
    stops.attr("stop-color", function(d) { 
          var h = d.color + 1;
      h = h > 360 ? h-360 : h;
      d.color=h;
          return d3.hsl(h,1,0.6).toString(); 
        });
    rect.transition().style("fill", "url(#gradient)");
  },10);

  rect.on('mousemove', handler);
  rect.on('touchmove', handler);

  function debounce(func, wait, immediate) {
    var timeout;
    return function() {
      var context = this;
      var args = arguments;
      var evt  = d3.event;

      var later = function() {
        timeout = null;
        if (!immediate) {
          var tmpEvent = d3.event;
          d3.event = evt;
          func.apply(context, args);
          d3.event = tmpEvent;
        }
      };

      var callNow = immediate && !timeout;
      clearTimeout(timeout);
      timeout = setTimeout(later, wait);
      if (callNow) {
        var tmpEvent = d3.event;
        d3.event = evt;
        func.apply(context, args);
        d3.event = tmpEvent;
      }

    };
  }
</script>
</body>
</html>